<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Corona Live From Bangladesh and World</title>
  <link rel="stylesheet" href="//www.thedailycampus.com/assets/plugins/bootstrap/css/bootstrap.min.css">
  <style>
    .container-fluid{margin: 0 auto;padding:0;}
    .col-md-12 a{text-decoration: none;}
    h2{margin: 20px auto 10px;padding-bottom:10px;}
    .local th{padding:10px;font-size: 16px;}
    .world_situation th{font-size: 19px;padding:10px 0 !important;}

  </style>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-12 text-center">
        <a href="#"><h2 class="text-danger"> বিশ্বজুড়ে করোনা ভাইরাস লাইভ </h2></a>

        <div class="row">
          <div class="col-md-6">
            <a href="#"><h2 class="text-danger"> বিশ্বের <span class="world_affected_country">২১২</span>  টি দেশের অবস্থা </h2></a>
            <table class="table table-bordered">
              <thead>
                <tr class="local info">
                  <th class="text-center"> ক্রমিক </th>
                  <th class="text-center"> প্রশ্ন </th>
                  <th class="text-center"> উত্তর </th>
                </tr>
              </thead>
              <tbody class="world_situation">   

                <tr class="" title="">
                  <th class="active text-center">১</th>
                  <th class="active text-center">আক্রান্ত দেশ </th>
                  <th class="active text-center world_affected_country"></th>
                </tr> 
                <tr class="" title="">
                  <th class="active text-center">২</th>
                  <th class="active text-center">মোট সুস্থ</th>
                  <th class="active text-center world_recovered"></th>
                </tr> 
                <tr class="" title="">
                  <th class="active text-center">৩</th>
                  <th class="active text-center">মোট আক্রান্ত</th>
                  <th class="active text-center world_case"></th>
                </tr> 
                <tr class="" title="">
                  <th class="active text-center">৪</th>
                  <th class="active text-center">মোট মৃত্যু</th>
                  <th class="active text-center world_death"></th>
                </tr> 
                <tr class="" title="">
                  <th class="active text-center">৫</th>
                  <th class="active text-center">আজ আক্রান্ত </th>
                  <th class="active text-center world_case_today"></th>
                </tr> 
                <tr class="" title="">
                  <th class="active text-center">৬</th>
                  <th class="active text-center">আজ মৃত্যু </th>
                  <th class="active text-center world_death_today"></th>
                </tr> 
                <tr class="" title="">
                  <th class="active text-center">৭</th>
                  <th class="active text-center"> মোট কোয়ারেন্টান </th>
                  <th class="active text-center world_tests"></th>
                </tr> 

              </tbody>
            </table> 
          </div>
          <div class="col-md-6">
            <a href="#"><h2 class="text-danger"> সুস্থতায় প্রথম ৫ টি দেশ </h2></a>
            <table class="table table-bordered">
              <thead>
                <tr class="local info">
                  <th class="text-center">পতাকা</th>
                  <th class="text-center">দেশ</th>
                  <th class="text-center"> আজকে পর্যন্ত সুস্থ </th>
                </tr>
              </thead>
              <tbody class="topRecoverCountries">             
              </tbody>
            </table> 
          </div>
           
        </div>
        <div class="row">
          <div class="col-md-6">
            <a href="#"><h2 class="text-danger"> বেশি আক্রান্ত ৫ টি দেশ </h2></a>
            <table class="table table-bordered">
              <thead>
                <tr class="local info">
                  <th class="text-center">পতাকা</th>
                  <th class="text-center">দেশ</th>
                  <th class="text-center">আক্রান্ত</th>
                </tr>
              </thead>
              <tbody class="topAffectedCountries">             
              </tbody>
            </table>
          </div>
          <div class="col-md-6">
            <a href="#"><h2 class="text-danger"> মৃত্যুতে প্রথম ৫ টি দেশ </h2></a>
            <table class="table table-bordered">
              <thead>
                <tr class="local info">
                  <th class="text-center">পতাকা</th>
                  <th class="text-center">দেশ</th>
                  <th class="text-center">মৃত্যু সংখ্যা</th>
                </tr>
              </thead>
              <tbody class="topDeathCountries">             
              </tbody>
            </table>
          </div>
        </div>  
        <div class="row">
          <div class="col-md-6">
            <a href="#"><h2 class="text-danger"> আজকে আক্রান্তে প্রথম ৫ টি দেশ </h2></a>
            <table class="table table-bordered">
              <thead>
                <tr class="local info">
                  <th class="text-center">পতাকা</th>
                  <th class="text-center">দেশ</th>
                  <th class="text-center">আজ আক্রান্ত </th>
                </tr>
              </thead>
              <tbody class="TodayAffectedCountries">             
              </tbody>
            </table>
          </div>
          <div class="col-md-6">
            <a href="#"><h2 class="text-danger"> আজকে মৃত্যুতে প্রথম ৫ টি দেশ </h2></a>
            <table class="table table-bordered">
              <thead>
                <tr class="local info">
                  <th class="text-center">পতাকা</th>
                  <th class="text-center">দেশ</th>
                  <th class="text-center">আজকে মৃত্যু</th>
                </tr>
              </thead>
              <tbody class="todayDeathCountries">             
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

 <script src="//www.thedailycampus.com/assets/plugins/jquery.min.js" type="text/javascript"></script>
  <script type="text/javascript">

    function fnum(x) {
      if(isNaN(x)) return x;
      if(x < 9999) {return x;}
      if(x < 1000000) {return x}
      if( x < 10000000) {return (x/1000000).toFixed(2) + " M";}
      if(x < 1000000000) {return Math.round((x/1000000)) + " M";}
      if(x < 1000000000000) {return Math.round((x/1000000000)) + "B";}
      return "1 টে.+";
    }    
    function translteNum(num_str){
            var bengali = ["০", "১", "২", "৩", "৪", "৫", "৬", "৭", "৮", "৯"];
            var changed_nun='';
            (num_str+'').split('').forEach(letter => {
              if(!isNaN(letter)){
                changed_nun += bengali[letter];                
              }else{
                changed_nun +=letter;
              }
            });
            return changed_nun;
    }

    $(document).ready(function(){
      var all_data=[];
      var bd_id=null;
      $.get( "https://corona.lmao.ninja/countries", function( data ) {
          $.each(data, function( k, v ) {
            all_data[k]=[k,v.countryInfo.flag,v.country,v.recovered,v.cases,v.deaths,v.todayCases,v.todayDeaths,v.tests];
          });
           
            all_data.sort(function(a, b){            
                var a1= a[3], b1= b[3];
                if(a1 == b1) return 0;
                return a1> b1? -1: 1;
            });
            $.each(all_data, function(k, v ) {
              if (k<5) {
                var result_num=translteNum(v[3].toLocaleString());
                $(".topRecoverCountries").append(`
                <tr class="localreport" title="Top 20 Affected Country and Affected Number">
                  <th class="active text-center"><img src="${v[1]}" width="80" height="50" alt="${v[2]}"></th>
                  <th class="active text-center">${v[2]}</th>
                  <td class="active text-center">${result_num}</td>
                </tr>
                `);
              }            
            });
            all_data.sort(function(a, b){  
              var a1= a[4], b1= b[4];
              if(a1 == b1) return 0;
              return a1> b1? -1: 1;
          });
          $.each(all_data, function(k, v ) {
            if (k<5) {
              var result_num=translteNum(v[4].toLocaleString());
              $(".topAffectedCountries").append(`
              <tr class="localreport" title="Top 20 Affected Country and Affected Number">
                <th class="active text-center"><img src="${v[1]}" width="80" height="50" alt="${v[2]}"></th>
                <th class="active text-center">${v[2]}</th>
                <td class="active text-center">${result_num}</td>
              </tr>
              `);
            }            
          });
          all_data.sort(function(a, b){
              var a1= a[5], b1= b[5];
              if(a1 == b1) return 0;
              return a1> b1? -1: 1;
          });
          $.each(all_data, function(k, v ) {
            if (k<5) {
              var result_num=translteNum(v[5].toLocaleString());
              $(".topDeathCountries").append(`
              <tr class="localreport" title="Top 20 Affected Country and Affected Number">
                <th class="active text-center"><img src="${v[1]}" width="80" height="50" alt="${v[2]}"></th>
                <th class="active text-center">${v[2]}</th>
                <td class="active text-center">${result_num}</td>
              </tr>
              `);
            }            
          });
          all_data.sort(function(a, b){
              var a1= a[6], b1= b[6];
              if(a1 == b1) return 0;
              return a1> b1? -1: 1;
          });
          $.each(all_data, function(k, v ) {
            if (k<5) {
              var result_num=translteNum(v[6].toLocaleString());
              $(".TodayAffectedCountries").append(`
              <tr class="localreport" title="Top 20 Affected Country and Affected Number">
                <th class="active text-center"><img src="${v[1]}" width="80" height="50" alt="${v[2]}"></th>
                <th class="active text-center">${v[2]}</th>
                <td class="active text-center">${result_num}</td>
              </tr>
              `);
            }            
          });
          all_data.sort(function(a, b){
              var a1= a[7], b1= b[7];
              if(a1 == b1) return 0;
              return a1> b1? -1: 1;
          });
          $.each(all_data, function(k, v ) {
            if (k<5) {
              var result_num=translteNum(v[7].toLocaleString());
              $(".todayDeathCountries").append(`
              <tr class="localreport" title="Top 20 Affected Country and Affected Number">
                <th class="active text-center"><img src="${v[1]}" width="80" height="50" alt="${v[2]}"></th>
                <th class="active text-center">${v[2]}</th>
                <td class="active text-center">${result_num}</td>
              </tr>
              `);
            }            
          });        

      });      
      $.get( "https://corona.lmao.ninja/all", function( data ) {
          $(".world_affected_country").html(translteNum(data.affectedCountries));         
          $(".world_recovered").html(translteNum(data.recovered));         
          $(".world_case").html(translteNum(data.cases));   
          $(".world_death").html(translteNum(data.deaths.toLocaleString()));       
          $(".world_case_today").html(translteNum(data.todayCases.toLocaleString()));       
          $(".world_death_today").html(translteNum(data.todayDeaths.toLocaleString()));       
          $(".world_tests").html(translteNum(data.tests.toLocaleString()));         
      });
     
    });
  </script>
</body>
</html>